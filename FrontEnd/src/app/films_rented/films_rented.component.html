<div class="browse">
  <span class="space"></span>

  <div class="button-container">
  <button (click)="increaseFontSize()" [disabled]="isIncreased">+</button>
  <button (click)="decreaseFontSize()" [disabled]="!isIncreased">-</button>
  </div>

  <h1> La tua cronologia di film noleggiati </h1>

  <table class="tableStyle" [style.fontSize.em]="fontSize">
    <thead>
      <tr class="top" >
        <th [style.fontSize.em]="fontSize"><a (click)="sortByTitle()"> Title </a></th>
        <th [style.fontSize.em]="fontSize"><a (click)="sortByGenre()"> Genere </a></th>
        <th [style.fontSize.em]="fontSize"><a (click)="sortByRentedDate()"> Data noleggio </a></th>
        <th [style.fontSize.em]="fontSize"><a (click)="sortByReturnDate()"> Data riconsegna </a></th>
        <th [style.fontSize.em]="fontSize"><a> Totale Speso: </a></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let film of films">
        <td>
          <a class="btn nameTitle" data-toggle="modal" (click)="onSelect(film)" data-target="#myModal" [style.fontSize.em]="fontSize"> {{ film.title }} </a>
        </td>
        <td [style.fontSize.em]="fontSize"> {{film.genre}} </td>
        <td [style.fontSize.em]="fontSize"> {{film.rental_date | date: 'dd/MM/yyyy  -  HH:mm'}} </td>
        <td [style.fontSize.em]="fontSize"> {{film.return_date | date: 'dd/MM/yyyy  -  HH:mm'}} </td>
        <td [style.fontSize.em]="fontSize"> {{calculateCost(film.rental_date!, film.return_date!, film.rental_rate!)|number:'1.2-4'}} € </td>
      </tr>
    </tbody>
  </table>

  <div id="myModal" class="modal fade menu-popup" role="dialog">
    <div class="modal-dialog" >
      <div class="modal-content" >
        <div class="modal-header">
          <h4 class="modal-title nameTitle"> {{selectedFilm.title}} </h4>
          <button type="button" class="close" data-dismiss="modal" >&times;</button>
        </div>

        <div class="modal-body">
          <p [style.fontSize.em]="fontSize"> Anno: {{selectedFilm.release_year}} </p>
          <p [style.fontSize.em]="fontSize"> Genere: {{selectedFilm.genre}} </p>
          <p [style.fontSize.em]="fontSize"> Lingua: {{selectedFilm.language}} </p>
          <p [style.fontSize.em]="fontSize"> Rating:{{selectedFilm.rating}} </p>
          <p [style.fontSize.em]="fontSize"> Costo: {{selectedFilm.rental_rate}} €</p>
          <p [style.fontSize.em]="fontSize"> {{selectedFilm.description}} </p>
        </div>

      </div>
    </div>
  </div>

  <div>
    <button class="prev btn btn-info btn-lg" *ngIf="showPrevious(0)" (click)="onPrevious()"> PREV </button>

    <div class="index">
      <div *ngIf="showPrevious(10)">
        <button class="prev btn btn-info btn-lg" (click)="jump(current_page-2)"> {{current_page-2}} </button>
      </div>
      <div *ngIf="showPrevious(0)">
        <button class="prev btn btn-info btn-lg" (click)="jump(current_page-1)"> {{current_page-1}} </button>
      </div>
      <div *ngIf="true">
        <button class="prev btn btn-info btn-lg" [class.selected]="true" (click)="jump(offset)"> {{current_page}} </button>
      </div>
      <div *ngIf="showNext(0)">
        <button class="prev btn btn-info btn-lg" (click)="jump(current_page+1)"> {{current_page+1}} </button>
      </div>
      <div *ngIf="showNext(10)">
        <button class="prev btn btn-info btn-lg" (click)="jump(current_page+2)"> {{current_page+2}} </button>
      </div>
    </div>

    <button class="next btn btn-info btn-lg" *ngIf="showNext(0)" (click)="onNext()"> NEXT </button>
  </div>
</div>
